# マーケットニュースシステム 要件定義書 v2.0

## 1. システム概要

### 1.1 目的
AIを活用した市場ニュース分析・要約システムの構築により、投資家・トレーダー・経済関心者に対して効率的で洞察に富んだ情報提供を行う。

### 1.2 システム名称
- **プライマリ名**: Market News Dashboard
- **サブタイトル**: AIニュース分析プラットフォーム

### 1.3 対象ユーザー
- **プライマリユーザー**: 個人投資家、デイトレーダー
- **セカンダリユーザー**: 経済研究者、金融メディア関係者
- **ターシャリユーザー**: 経済ニュースに関心がある一般ユーザー

### 1.4 システム目標
- **情報処理効率化**: 大量のニュース記事を自動要約し、読み手の時間を短縮
- **洞察提供**: AI分析による深い市場理解の支援
- **アクセシビリティ**: 複雑な経済情報を分かりやすく提示
- **リアルタイム性**: 最新の市場動向を迅速に反映

## 2. 機能要件

### 2.1 記事収集・処理機能 (実装済み)
- **FR-001**: Bloomberg, Reutersからの自動記事収集
- **FR-002**: 記事の重複検出・除去機能
- **FR-003**: 記事メタデータ管理（URL、公開日時、ソース等）

### 2.2 AI要約機能 (実装済み)
- **FR-004**: Flash要約生成（簡潔な要約）
- **FR-005**: Pro要約生成（詳細な分析）
- **FR-006**: 要約品質の一貫性保証

### 2.3 メインページ機能 (実装済み)
- **FR-007**: Flash要約一覧表示
- **FR-008**: 記事検索・フィルタリング機能
- **FR-009**: 記事ソース別フィルタリング
- **FR-010**: 記事並び替え機能（日時、ソース順）
- **FR-011**: レスポンシブデザイン対応

### 2.4 Pro要約ページ機能 (実装済み)
- **FR-012**: Gemini 2.5 Pro詳細分析表示
- **FR-013**: 市場概況分析セクション
- **FR-014**: 地域別市場分析
- **FR-015**: セクター別トレンド分析
- **FR-016**: リスク要因分析
- **FR-017**: 投資機会分析
- **FR-018**: 市場予測・展望機能

### 2.5 統計・ダッシュボード機能 (部分実装)
- **FR-019**: 総記事数表示 ✅
- **FR-020**: 最終更新時刻表示 ✅
- **FR-021**: 地域分布チャート ❌ 未実装
- **FR-022**: カテゴリ分布チャート ❌ 未実装
- **FR-023**: ソース分布統計 ❌ 未実装

### 2.6 ナビゲーション機能 (実装済み)
- **FR-024**: メインページ⇔Pro要約ページ間の遷移
- **FR-025**: テーマ切り替え機能（ダーク/ライトモード）
- **FR-026**: リフレッシュ機能

### 2.7 データ管理機能 (実装済み)
- **FR-027**: 記事データのJSON分離管理
- **FR-028**: 外部JSONファイルの動的読み込み
- **FR-029**: エラーハンドリング・リトライ機能

## 3. 非機能要件

### 3.1 性能要件
- **NFR-001**: 初期ページ読み込み時間 < 3秒
- **NFR-002**: 記事検索応答時間 < 1秒
- **NFR-003**: JSONファイルサイズ < 500KB
- **NFR-004**: HTMLファイルサイズ < 50KB

### 3.2 スケーラビリティ要件
- **NFR-005**: 最大1000記事の表示対応
- **NFR-006**: 同時アクセス数 100ユーザー対応

### 3.3 可用性要件
- **NFR-007**: GitHub Pages 99.9%稼働率
- **NFR-008**: クロスブラウザ対応（Chrome, Firefox, Safari, Edge）
- **NFR-009**: モバイルデバイス対応

### 3.4 セキュリティ要件
- **NFR-010**: HTTPS通信の強制
- **NFR-011**: XSS攻撃対策の実装
- **NFR-012**: CSP（Content Security Policy）の設定

### 3.5 ユーザビリティ要件
- **NFR-013**: 直感的なUI/UXデザイン
- **NFR-014**: キーボードショートカット対応
- **NFR-015**: アクセシビリティ（WCAG 2.1 AA準拠）

## 4. データ要件

### 4.1 記事データ構造
```json
{
  "title": "記事タイトル",
  "url": "記事URL",
  "summary": "Flash要約文",
  "source": "ニュースソース",
  "published_jst": "日本時間での公開日時"
}
```

### 4.2 データ保存・管理
- **DR-001**: JSONファイルでの記事データ管理
- **DR-002**: ローカルストレージでのユーザー設定保存
- **DR-003**: キャッシュ機能による表示高速化

## 5. システム制約

### 5.1 技術制約
- **TC-001**: GitHub Pages環境での動作必須
- **TC-002**: サーバーサイド処理なし（静的サイト）
- **TC-003**: JavaScript ES6+対応ブラウザ必須

### 5.2 外部依存
- **ED-001**: PicoCSS フレームワーク利用
- **ED-002**: Gemini AI API（要約生成）
- **ED-003**: Bloomberg, Reuters記事ソース

### 5.3 運用制約
- **OC-001**: 記事データ更新は手動実行
- **OC-002**: データベース機能なし
- **OC-003**: ユーザー認証機能なし

## 6. ユーザーストーリー

### 6.1 個人投資家として
- **US-001**: 朝の投資判断前に最新の市場要約を素早く確認したい
- **US-002**: 特定のセクターや地域に関するニュースのみをフィルタリングしたい
- **US-003**: 詳細な市場分析とリスク要因を深く理解したい

### 6.2 デイトレーダーとして
- **US-004**: リアルタイムに近い市場動向を把握したい
- **US-005**: 短時間で大量のニュースの要点を把握したい
- **US-006**: モバイルデバイスからでも快適に情報収集したい

### 6.3 経済研究者として
- **US-007**: 複数の情報源からの総合的な市場分析を求める
- **US-008**: 過去のニュースと現在のトレンドを比較分析したい
- **US-009**: 地域別・セクター別の詳細な分析データが欲しい

## 7. 受入れ基準

### 7.1 機能受入れ基準
- [ ] 全記事のFlash要約が正確に表示される
- [ ] Pro要約ページで詳細分析が適切に生成される
- [ ] 検索・フィルタリング機能が正常に動作する
- [ ] モバイルデバイスで適切に表示される
- [ ] エラー時に適切なメッセージが表示される

### 7.2 性能受入れ基準
- [ ] 初期ページ読み込み3秒以内
- [ ] 記事検索1秒以内の応答
- [ ] 100記事以上でも快適な動作

### 7.3 品質受入れ基準
- [ ] クロスブラウザでの動作確認完了
- [ ] モバイルデバイスでの動作確認完了
- [ ] アクセシビリティ要件の満足

## 8. リスクと課題

### 8.1 技術リスク
- **TR-001**: GitHub Pages制約によるサーバーサイド処理不可
- **TR-002**: 大量データ処理時のブラウザパフォーマンス低下
- **TR-003**: 外部API制限による機能制約

### 8.2 運用リスク
- **OR-001**: 手動更新によるデータ鮮度の問題
- **OR-002**: ニュースソース変更によるデータ取得エラー
- **OR-003**: AI要約品質のばらつき

### 8.3 ビジネスリスク
- **BR-001**: 競合サービスとの差別化困難
- **BR-002**: ユーザー獲得・維持の課題
- **BR-003**: 収益化モデルの不明確さ

## 9. 成功指標

### 9.1 技術指標
- ページ読み込み速度: 3秒以内
- エラー率: 1%以下
- モバイル使用率: 30%以上

### 9.2 ユーザー指標
- 月間アクティブユーザー: 1000人以上
- 平均セッション時間: 5分以上
- 再訪問率: 40%以上

### 9.3 品質指標
- ユーザー満足度: 4.0/5.0以上
- バグ報告: 月間10件以下
- アクセシビリティスコア: 90点以上

---

**文書管理情報**
- 作成日: 2025年8月15日
- バージョン: 2.0
- 承認者: プロジェクトマネージャー
- 次回レビュー予定: 2025年9月15日